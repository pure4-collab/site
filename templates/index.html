
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Painel Pure3 Integrado</title>
  <style>
    body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #0d1117; color: #c9d1d9; }
    header { background: #161b22; padding: 20px; text-align: center; border-bottom: 1px solid #30363d; }
    .container { max-width: 1000px; margin: 30px auto; padding: 0 20px; }
    .section { background: #161b22; border: 1px solid #30363d; border-radius: 10px; padding: 20px; margin-bottom: 25px; }
    .section h2 { color: #79c0ff; margin-top: 0; font-size: 18px; }
    .highlight { color: #3fb950; font-weight: bold; }
    input[type="text"] { width: 100%; padding: 8px; margin: 5px 0 10px; border: 1px solid #30363d; border-radius: 5px; background: #0d1117; color: #c9d1d9; }
    button { background: #238636; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
    button:hover { background: #2ea043; }
    .info-block { margin-top: 10px; }
  </style>
</head>
<body>
<header><h1>Painel Pure3 com Proxy Flask</h1></header>
<div class="container">
  <div class="section">
    <h2>Buscar dados</h2>
    <input type="text" id="walletInput" placeholder="Digite seu endereço TRX...">
    <button onclick="buscarDados()">Buscar</button>
    <div class="info-block" id="dadosUsuario"></div>
  </div>
</div>
<footer style="text-align:center; color:#8b949e; padding:20px;">
  Projeto acadêmico &copy; 2025 — Integrado com Render
</footer>
<script>
function buscarDados() {
  const wallet = document.getElementById("walletInput").value;
  const infoDiv = document.getElementById("dadosUsuario");
  infoDiv.innerHTML = "Buscando...";
  fetch("/api/relatorio?wallet=" + wallet)
    .then(res => res.json())
    .then(data => {
      if (data.error) {
        infoDiv.innerHTML = "<span style='color:red;'>Erro: " + data.error + "</span>";
      } else {
        infoDiv.innerHTML = `
          <p><strong>Current Balance:</strong> <span class="highlight">${data.current_balance}</span></p>
          <p><strong>ROI Hoje:</strong> <span class="highlight">${data.daily_roi}</span></p>
          <p><strong>Total de Payouts:</strong> <span class="highlight">${data.total_payouts}</span></p>
          <p><a href="${data.source}" target="_blank" style="color:#58a6ff;">Ver página original</a></p>
        `;
      }
    })
    .catch(err => {
      infoDiv.innerHTML = "<span style='color:red;'>Erro na requisição: " + err.message + "</span>";
    });
}
</script>
</body>
</html>
